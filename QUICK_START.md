# 快速启动指南

## 为什么第二天启动很慢？

Next.js 开发服务器在启动时需要：
1. **重新编译所有 TypeScript/TSX 文件** - 即使文件没变，也需要重新检查
2. **重新生成类型定义** - `.next/types` 目录需要重新生成
3. **重新构建依赖图** - 分析所有导入关系
4. **重新编译 Tailwind CSS** - 扫描所有文件查找类名

这是正常现象，特别是项目较大时。

## 优化启动速度的方法

### 方法 1: 使用 Turbo Mode（推荐，Next.js 15+）

```bash
npm run dev:fast
```

这会使用 Turbopack，启动速度会快很多。

### 方法 2: 保留 .next 缓存

**不要删除 `.next` 目录**，除非遇到编译错误。缓存可以显著加快启动速度。

### 方法 3: 使用快速启动脚本

```bash
# 清理缓存（仅在遇到问题时使用）
npm run clean

# 正常启动
npm run dev
```

### 方法 4: 保持开发服务器运行

如果可能，让开发服务器在后台运行，而不是每次都重启。

## 常见问题

### "missing required error components, refreshing..."

这通常表示：
1. Next.js 正在重新编译
2. 等待几秒钟，页面会自动刷新
3. 如果持续出现，尝试：
   ```bash
   npm run clean
   npm run dev
   ```

### 启动时间优化建议

1. **不要频繁删除 `.next` 目录** - 这是编译缓存
2. **使用 `--turbo` 标志** - Next.js 15 支持 Turbopack，速度更快
3. **关闭不必要的 TypeScript 严格检查** - 在开发模式下
4. **使用 SSD** - 文件系统速度影响编译速度

## 启动时间对比

- **首次启动**（无缓存）: 30-60 秒
- **有缓存启动**: 10-20 秒
- **使用 Turbo**: 5-15 秒

## 如果启动仍然很慢

1. 检查是否有大量未使用的导入
2. 检查是否有循环依赖
3. 考虑使用代码分割（动态导入）
4. 检查磁盘空间和性能
