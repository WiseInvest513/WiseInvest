@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  .scrollbar-hide {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none; /* Chrome, Safari and Opera */
  }
  /* 列表/分类切换淡入，减少跳变感 */
  @keyframes contentFadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  .content-fade-in {
    animation: contentFadeIn 0.25s ease-out forwards;
  }
  /* 顶部导航激活项的浮动效果 */
  @keyframes navItemFloat {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-2px); }
  }
  .nav-item-float {
    animation: navItemFloat 2s ease-in-out infinite;
  }
  @media (prefers-reduced-motion: reduce) {
    .nav-item-float {
      animation: none;
    }
  }
}

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 0%;
    --muted: 0 0% 96%;
    --muted-foreground: 0 0% 45%;
    --border: 0 0% 90%;
    --input: 0 0% 90%;
    --ring: 0 0% 0%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 0%;
    /* 扩展语义化颜色变量 */
    --text-primary: 222 47% 11%; /* slate-900 */
    --text-secondary: 215 16% 47%; /* slate-500 */
    --text-tertiary: 215 13% 34%; /* slate-600 */
    --text-muted: 215 20% 65%; /* slate-400 */
    --bg-primary: 0 0% 100%; /* white */
    --bg-secondary: 210 40% 98%; /* slate-50 */
    --bg-tertiary: 210 40% 96%; /* slate-100 */
    --border-color: 214 32% 91%; /* slate-200 */
  }

  .dark {
    --background: 0 0% 0%;
    --foreground: 0 0% 100%;
    --muted: 0 0% 10%;
    --muted-foreground: 0 0% 65%;
    --border: 0 0% 20%;
    --input: 0 0% 20%;
    --ring: 0 0% 100%;
    --popover: 0 0% 0%;
    --popover-foreground: 0 0% 100%;
    /* 暗色模式下的语义化颜色 */
    --text-primary: 210 40% 98%; /* slate-50 */
    --text-secondary: 215 20% 65%; /* slate-400 */
    --text-tertiary: 215 16% 47%; /* slate-500 */
    --text-muted: 215 13% 34%; /* slate-600 */
    --bg-primary: 222 47% 11%; /* slate-950 */
    --bg-secondary: 222 47% 11%; /* slate-900 */
    --bg-tertiary: 215 28% 17%; /* slate-800 */
    --border-color: 215 28% 17%; /* slate-800 */
  }
}

@layer utilities {
  /* 语义化文本颜色 */
  .text-text-primary {
    color: hsl(var(--text-primary));
  }
  .text-text-secondary {
    color: hsl(var(--text-secondary));
  }
  .text-text-tertiary {
    color: hsl(var(--text-tertiary));
  }
  .text-text-muted {
    color: hsl(var(--text-muted));
  }
  
  /* 语义化背景颜色 */
  .bg-bg-primary {
    background-color: hsl(var(--bg-primary));
  }
  .bg-bg-secondary {
    background-color: hsl(var(--bg-secondary));
  }
  .bg-bg-tertiary {
    background-color: hsl(var(--bg-tertiary));
  }
  
  /* 语义化边框颜色 */
  .border-border-color {
    border-color: hsl(var(--border-color));
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-bg-primary text-text-primary transition-colors duration-300;
    font-family: var(--font-inter), sans-serif;
  }
}

/* 确保 Tailwind 基础样式被应用 */
@layer base {
  html {
    font-family: var(--font-inter), sans-serif;
  }
  
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-nunito), sans-serif;
  }
}

/* Slider Styles */
input[type="range"].slider {
  -webkit-appearance: none;
  appearance: none;
}

input[type="range"].slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: #FACC15;
  cursor: pointer;
  border: 2px solid #ffffff;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

input[type="range"].slider::-moz-range-thumb {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: #FACC15;
  cursor: pointer;
  border: 2px solid #ffffff;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* 动效分级：强 / 中(默认) / 弱 */
@keyframes directoryNavFloatStrong {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-2px); }
}
@keyframes directoryNavFloatMedium {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-1px); }
}
@keyframes directoryNavFloatWeak {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-0.5px); }
}
@keyframes directoryNavGlowStrong {
  0%, 100% { box-shadow: 0 8px 16px -14px rgba(245, 158, 11, 0.65); }
  50% { box-shadow: 0 12px 22px -14px rgba(245, 158, 11, 0.95); }
}
@keyframes directoryNavGlowMedium {
  0%, 100% { box-shadow: 0 6px 12px -14px rgba(245, 158, 11, 0.45); }
  50% { box-shadow: 0 8px 16px -14px rgba(245, 158, 11, 0.7); }
}
@keyframes directoryNavGlowWeak {
  0%, 100% { box-shadow: 0 4px 8px -14px rgba(245, 158, 11, 0.3); }
  50% { box-shadow: 0 6px 12px -14px rgba(245, 158, 11, 0.5); }
}
@keyframes directoryNavPulseStrong {
  0%, 100% { opacity: 0.5; transform: scaleY(0.65); }
  50% { opacity: 1; transform: scaleY(1); }
}
@keyframes directoryNavPulseMedium {
  0%, 100% { opacity: 0.6; transform: scaleY(0.8); }
  50% { opacity: 0.95; transform: scaleY(1); }
}
@keyframes directoryNavPulseWeak {
  0%, 100% { opacity: 0.7; transform: scaleY(0.9); }
  50% { opacity: 0.9; transform: scaleY(1); }
}

.directory-nav-active {
  position: relative;
  overflow: visible;
  animation: directoryNavFloatMedium 2.2s ease-in-out infinite, directoryNavGlowMedium 2.6s ease-in-out infinite;
}
.directory-nav-active-strong {
  position: relative;
  overflow: visible;
  animation: directoryNavFloatStrong 1.9s ease-in-out infinite, directoryNavGlowStrong 2.2s ease-in-out infinite;
}
.directory-nav-active-weak {
  position: relative;
  overflow: visible;
  animation: directoryNavFloatWeak 2.8s ease-in-out infinite, directoryNavGlowWeak 3.2s ease-in-out infinite;
}

.directory-nav-active::before,
.directory-nav-active-strong::before,
.directory-nav-active-weak::before {
  content: "";
  position: absolute;
  left: -7px;
  top: 50%;
  width: 3px;
  height: 72%;
  border-radius: 9999px;
  transform: translateY(-50%);
}
.directory-nav-active::before {
  background: linear-gradient(to bottom, rgba(245, 158, 11, 0.12), rgba(245, 158, 11, 0.85), rgba(245, 158, 11, 0.12));
  box-shadow: 0 0 8px rgba(245, 158, 11, 0.35);
  animation: directoryNavPulseMedium 2s ease-in-out infinite;
}
.directory-nav-active-strong::before {
  background: linear-gradient(to bottom, rgba(245, 158, 11, 0.15), rgba(245, 158, 11, 0.95), rgba(245, 158, 11, 0.15));
  box-shadow: 0 0 10px rgba(245, 158, 11, 0.45);
  animation: directoryNavPulseStrong 1.6s ease-in-out infinite;
}
.directory-nav-active-weak::before {
  background: linear-gradient(to bottom, rgba(245, 158, 11, 0.08), rgba(245, 158, 11, 0.6), rgba(245, 158, 11, 0.08));
  box-shadow: 0 0 6px rgba(245, 158, 11, 0.25);
  animation: directoryNavPulseWeak 2.4s ease-in-out infinite;
}

.dark .directory-nav-active::before {
  background: linear-gradient(to bottom, rgba(250, 204, 21, 0.14), rgba(250, 204, 21, 0.85), rgba(250, 204, 21, 0.14));
  box-shadow: 0 0 10px rgba(250, 204, 21, 0.4);
}
.dark .directory-nav-active-strong::before {
  background: linear-gradient(to bottom, rgba(250, 204, 21, 0.18), rgba(250, 204, 21, 0.92), rgba(250, 204, 21, 0.18));
  box-shadow: 0 0 12px rgba(250, 204, 21, 0.5);
}
.dark .directory-nav-active-weak::before {
  background: linear-gradient(to bottom, rgba(250, 204, 21, 0.1), rgba(250, 204, 21, 0.6), rgba(250, 204, 21, 0.1));
  box-shadow: 0 0 6px rgba(250, 204, 21, 0.3);
}

/* 用户偏好减少动效时，禁用持续动画 */
@media (prefers-reduced-motion: reduce) {
  .directory-nav-active,
  .directory-nav-active-strong,
  .directory-nav-active-weak {
    animation: none;
  }
  .directory-nav-active::before,
  .directory-nav-active-strong::before,
  .directory-nav-active-weak::before {
    animation: none;
  }
  .content-fade-in {
    animation: none;
  }
}

/* Unified left directory button token */
.directory-nav-button {
  width: fit-content;
  text-align: center;
  border-left: 2px solid transparent;
  border-right: 2px solid transparent;
  border-radius: 0.5rem;
  padding: 0.375rem 0.75rem;
  color: rgb(71 85 105);
  transition: all 0.2s ease;
}

.directory-nav-button:hover {
  background: rgb(248 250 252);
  color: rgb(15 23 42);
}

.directory-nav-button-active {
  border-left-color: rgb(250 204 21);
  border-right-color: rgb(250 204 21);
  background: rgb(254 249 195);
  color: rgb(133 77 14);
  font-weight: 700;
}

.dark .directory-nav-button {
  color: rgb(148 163 184);
}

.dark .directory-nav-button:hover {
  background: rgb(30 41 59);
  color: rgb(241 245 249);
}

.dark .directory-nav-button-active {
  border-left-color: rgb(234 179 8);
  border-right-color: rgb(234 179 8);
  background: rgba(113, 63, 18, 0.35);
  color: rgb(250 204 21);
}

